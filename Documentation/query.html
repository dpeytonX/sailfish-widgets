<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- query.cpp -->
  <title>Query Class | Safilfish Widgets 1.3</title>
</head>
<body>
<link rel='stylesheet' href='style/stylesheet.css' /> <h2>Back to <a href='https://github.com/prplmnky/sailfish-widgets'>GitHub</a></h2><li>Query</li>
<li id="buildversion">
</li>
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#properties">Properties</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<h1 class="title">Query Class</h1>
<!-- $$$Query-brief -->
<p>The Query class <a href="#details">More...</a></p>
<!-- @@@Query -->
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> </b><tt><span class="preprocessor">#include &lt;Query&gt;</span>
</tt></td></tr><tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign">  Qt 5.0</td></tr></table><ul>
<li><a href="query-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="properties"></a>
<h2>Properties</h2>
<table class="propsummary">
<tr><td class="topAlign"><ul>
<li class="fn"><b><a href="query.html#active-prop">active</a></b> : const bool</li>
<li class="fn"><b><a href="query.html#executedQuery-prop">executedQuery</a></b> : const QString</li>
<li class="fn"><b><a href="query.html#fieldSize-prop">fieldSize</a></b> : const int</li>
<li class="fn"><b><a href="query.html#lastError-prop">lastError</a></b> : const QString</li>
</ul></td><td class="topAlign"><ul>
<li class="fn"><b><a href="query.html#lastQuery-prop">lastQuery</a></b> : const QString</li>
<li class="fn"><b><a href="query.html#size-prop">size</a></b> : const int</li>
<li class="fn"><b><a href="query.html#valid-prop">valid</a></b> : const bool</li>
</ul>
</td></tr>
</table>
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="query.html#Query">Query</a></b>(QObject *<i> parent</i> = 0)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="query.html#Query-2">Query</a></b>(SQLiteDatabase *<i> database</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="query.html#Query-3">Query</a></b>(const QString &amp;<i> query</i>, SQLiteDatabase *<i> database</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="query.html#close">close</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="query.html#fieldSize-prop">fieldSize</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="query.html#finish">finish</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="query.html#first">first</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="query.html#indexOf">indexOf</a></b>(const QString &amp;<i> field</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="query.html#last">last</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="query.html#lastError-prop">lastError</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="query.html#next">next</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="query.html#seek">seek</a></b>(int<i> index</i>, bool<i> relative</i> = false)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QVariant </td><td class="memItemRight bottomAlign"><b><a href="query.html#value">value</a></b>(const QString &amp;<i> name</i>)</td></tr>
</table>
<a name="details"></a>
<!-- $$$Query-description -->
<div class="descr">
<h2>Detailed Description</h2>
<p>The Query class</p>
<p>This class will allow you to get more information about a query performed using <a href="sqlitedatabase.html">SQLiteDatabase</a>.</p>
<p>It is not meant to be instantiated as a QML object.</p>
<p>An example usage is as follows.</p>
<pre class="qml"><span class="type"><a href="sqlitedatabase.html">SQLiteDatabase</a></span> {
  <span class="name">Component</span>.onCompleted: {
    <span class="name">exec</span>(<span class="string">&quot;SELECT * FROM table&quot;</span>)
    <span class="keyword">if</span>(<span class="name">query</span>.<span class="name">valid</span>()) {
      <span class="name">query</span>.<span class="name">first</span>() <span class="comment">// this will return the Query QML object</span>
      <span class="name">console</span>.<span class="name">log</span>(<span class="name">query</span>.<span class="name">value</span>(<span class="string">&quot;column&quot;</span>))
    }
  }
}</pre>
<p>Back to <a href="index.html">Sailfish Widgets</a></p>
</div>
<!-- @@@Query -->
<div class="prop">
<h2>Property Documentation</h2>
<!-- $$$active-prop -->
<h3 class="fn"><a name="active-prop"></a><span class="name">active</span> : const <span class="type">bool</span></h3>
<p>Returns if the query is still active (can return rows).</p>
<!-- @@@active -->
<!-- $$$executedQuery-prop -->
<h3 class="fn"><a name="executedQuery-prop"></a><span class="name">executedQuery</span> : const <span class="type">QString</span></h3>
<p>Is a textual representation of the query after execution</p>
<!-- @@@executedQuery -->
<!-- $$$fieldSize-prop$$$fieldSize -->
<h3 class="fn"><a name="fieldSize-prop"></a><span class="name">fieldSize</span> : const <span class="type">int</span></h3>
<p>Returns the number of fields returned from the query.</p>
<p><b>Access functions:</b></p>
<table class="alignedsummary">
<tr><td class="memItemLeft topAlign rightAlign"> int </td><td class="memItemRight bottomAlign"><span class="name"><b>fieldSize</b></span>()</td></tr>
</table>
<!-- @@@fieldSize -->
<!-- $$$lastError-prop$$$lastError -->
<h3 class="fn"><a name="lastError-prop"></a><span class="name">lastError</span> : const <span class="type">QString</span></h3>
<p>Returns the textual description of the last error that occurred.</p>
<p><b>Access functions:</b></p>
<table class="alignedsummary">
<tr><td class="memItemLeft topAlign rightAlign"> QString </td><td class="memItemRight bottomAlign"><span class="name"><b>lastError</b></span>() const</td></tr>
</table>
<!-- @@@lastError -->
<!-- $$$lastQuery-prop -->
<h3 class="fn"><a name="lastQuery-prop"></a><span class="name">lastQuery</span> : const <span class="type">QString</span></h3>
<p>Is a textual representation of the query before execution.</p>
<!-- @@@lastQuery -->
<!-- $$$size-prop -->
<h3 class="fn"><a name="size-prop"></a><span class="name">size</span> : const <span class="type">int</span></h3>
<p>Returns the number of rows returned from the query.</p>
<!-- @@@size -->
<!-- $$$valid-prop -->
<h3 class="fn"><a name="valid-prop"></a><span class="name">valid</span> : const <span class="type">bool</span></h3>
<p>Returns if the query is positioned at a valid record.</p>
<!-- @@@valid -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$Query[overload1]$$$QueryQObject* -->
<h3 class="fn"><a name="Query"></a>Query::<span class="name">Query</span>(<span class="type">QObject</span> *<i> parent</i> = 0)</h3>
<p>Sets a <tt>QObject</tt> <i>parent</i>.</p>
<!-- @@@Query -->
<!-- $$$Query$$$QuerySQLiteDatabase* -->
<h3 class="fn"><a name="Query-2"></a>Query::<span class="name">Query</span>(<span class="type"><a href="sqlitedatabase.html">SQLiteDatabase</a></span> *<i> database</i>)</h3>
<p>It sets the internal <tt>QSqlQuery</tt> 's database to be <i>database</i> and a <tt>QObject</tt> <tt>parent</tt> of <i>database</i>.</p>
<!-- @@@Query -->
<!-- $$$Query$$$QueryconstQString&SQLiteDatabase* -->
<h3 class="fn"><a name="Query-3"></a>Query::<span class="name">Query</span>(const <span class="type">QString</span> &amp;<i> query</i>, <span class="type"><a href="sqlitedatabase.html">SQLiteDatabase</a></span> *<i> database</i>)</h3>
<p>It sets the internal <tt>QSqlQuery</tt> to be <i>query</i> and a <tt>QObject</tt> <tt>parent</tt> of <i>database</i>.</p>
<!-- @@@Query -->
<!-- $$$close[overload1]$$$close -->
<h3 class="fn"><a name="close"></a><span class="type">void</span> Query::<span class="name">close</span>()</h3>
<p>Releases resources and sets this query to inactive. Alias to <tt>finish()</tt>;</p>
<!-- @@@close -->
<!-- $$$finish[overload1]$$$finish -->
<h3 class="fn"><a name="finish"></a><span class="type">void</span> Query::<span class="name">finish</span>()</h3>
<p>Releases resources and sets this query to inactive</p>
<!-- @@@finish -->
<!-- $$$first[overload1]$$$first -->
<h3 class="fn"><a name="first"></a><span class="type">bool</span> Query::<span class="name">first</span>()</h3>
<p>Seeks to the first record in this query. Returns true if successful.</p>
<!-- @@@first -->
<!-- $$$indexOf[overload1]$$$indexOfconstQString& -->
<h3 class="fn"><a name="indexOf"></a><span class="type">int</span> Query::<span class="name">indexOf</span>(const <span class="type">QString</span> &amp;<i> field</i>)</h3>
<p>Returns the index of <i>field</i> or -1 if no such field was found.</p>
<!-- @@@indexOf -->
<!-- $$$last[overload1]$$$last -->
<h3 class="fn"><a name="last"></a><span class="type">bool</span> Query::<span class="name">last</span>()</h3>
<p>Seeks to the last record in this query. Returns true if successful.</p>
<!-- @@@last -->
<!-- $$$next[overload1]$$$next -->
<h3 class="fn"><a name="next"></a><span class="type">bool</span> Query::<span class="name">next</span>()</h3>
<p>Seeks to the next record in this query. Returns true if successful.</p>
<!-- @@@next -->
<!-- $$$seek[overload1]$$$seekintbool -->
<h3 class="fn"><a name="seek"></a><span class="type">bool</span> Query::<span class="name">seek</span>(<span class="type">int</span><i> index</i>, <span class="type">bool</span><i> relative</i> = false)</h3>
<p>Searches for the record <i>index</i> in this query and returns true if successful.</p>
<p>To search relatively, set <i>relative</i> to true.</p>
<!-- @@@seek -->
<!-- $$$value[overload1]$$$valueconstQString& -->
<h3 class="fn"><a name="value"></a><span class="type">QVariant</span> Query::<span class="name">value</span>(const <span class="type">QString</span> &amp;<i> name</i>)</h3>
<p>Returns the value of the record at the column designated by <i>name</i>.</p>
<!-- @@@value -->
</div>
</body>
</html>
